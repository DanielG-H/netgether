<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Chatroom - NetGether</title>
    <link href="chat.css" rel="stylesheet">
    <link href="shared.css" rel="stylesheet">
    <link rel="stylesheet" href="../wwwroot/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../wwwroot/css/room.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css" />
</head>

<body>
    <main>
        <div id="mySidebar" class="sidebar">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
            <ul class="userlistbox"></ul>
            <a href="../home/index.html" class="btn btn-danger justify-content-center"><i
                class="bi bi-door-closed">&nbsp; Log
                Out</i></a>
        </div>
        <div id="myChat" class="chat">
            <a href="javascript:void(0)" class="closebtn" onclick="closeChat()">×</a>
            <a href="#">Chat</a>
            <div class="row d-flex justify-content-center">
                <div class="col-md-2 col-lg-11">
                    <div class="card shadow-0 border" style="background-color: #f0f2f5;">
                        <div class="card-body p-4">
                            <div class="chatbox"></div>
                            <div class="empty-container"></div>
                            <div class="chat-controls">
                                Chat:<br />
                                <input id="text" type="text" name="text" size="100" maxlength="256"
                                    placeholder="Say something meaningful..." autocomplete="off"
                                    onkeyup="handleKey(event)" disabled>
                                <input type="button" id="send" name="send" value="Send" onclick="handleSendButton()"
                                    disabled>
                            </div>
                            <!-- <div class="form-outline">
                                <input type="text" id="addComment" class="form-control" placeholder="Type comment..." />
                                <button id="sendButton" class="btn btn-primary mb-8">+ Add </button>
                                <file id="button-attach-file" type="button" class="btn btn-secondary"> <i
                                        class="bi bi-paperclip">File</i></file>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="main">

            <div class="infobox">
                <p>Click a username in the user list to ask them to enter a one-on-one video chat
                    with you.</p>
                <p>Enter a username: <input id="name" type="text" maxlength="12" required autocomplete="username"
                        inputmode="verbatim" placeholder="Username">
                    <input type="button" name="login" value="Log in" onclick="connect()">
                </p>
            </div>
            <div class="camerabox">
                <video id="received_video" autoplay></video>
                <video id="local_video" autoplay muted></video>
                <button id="hangup-button" onclick="hangUpCall();" role="button" disabled>
                    Hang Up
                </button>
            </div>
        </div>

        <div class="dockbg"></div>
        <div class="dock">
            <button class="openbtn" onclick="openNav()">☰</button>
            <button class="openbtn" onclick="openChat()"> ➥</button>
        </div>

    </main>
    <!-- webRTC API -->
    <script type="text/javascript">
        function openNav() {
            document.getElementById("mySidebar").style.width = "250px";
            document.getElementById("main").style.marginLeft = "250px";
        }

        function closeNav() {
            document.getElementById("mySidebar").style.width = "0";
            document.getElementById("main").style.marginLeft = "0";

        }

        function openChat() {
            document.getElementById("myChat").style.width = "450px";
            document.getElementById("main").style.marginRight = "450px";
        }

        function closeChat() {
            document.getElementById("myChat").style.width = "0";
            document.getElementById("main").style.marginRight = "0";
        }
    </script>
    <script type="text/javascript" src="chatclient.js"></script>
    <script src="adapter.js"></script>
</body>

</html>